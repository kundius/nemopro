{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/mobilemenu.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","$","each","mobilemenu","this","overflow","data","scroll","find","first","depth","height","$this","$parent","prev","$grandparent","parent","prepend","attr","text","click","hasClass","preventDefault","isDowndrop","closest","removeClass","addClass","eq","parseInt","scrollTop","Math","max","css","setTimeout","animate","window","location","href","reload","CloseMobileMenu","offcanvasInitialExecuted","on"],"mappings":"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","file":"mobilemenu.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","$(function() {\r\n    $(\".mobilemenu\").each(function() {\r\n        var mobilemenu = $(this);\r\n        var overflow = mobilemenu.data('overflow') || scroll\r\n    \r\n        // дефолтные настройки для скрола\r\n        mobilemenu.find(\".wrap\").first().data(\"params\", {\r\n            depth: 0,\r\n            scroll: {},\r\n            height: {}\r\n        });\r\n        \r\n        // дополнительная разметка\r\n        mobilemenu.find(\".dropdown\").each(function() {\r\n            var $this = $(this);\r\n            var $parent = $this.prev();\r\n            var $grandparent = $this.parent().parent().prev();\r\n            $this.prepend('<li class=\"menu_title\"><a href=\"' + $parent.attr('href') + '\">' + $parent.text() + '</a></li>');\r\n            $this.prepend('<li class=\"menu_back\"><a href=\"#\" rel=\"nofollow\"><i class=\"uk-icon-angle-left svg\"></i> ' + ($grandparent.length ? $grandparent.text() : 'Каталог') + '</a></li>');\r\n        });\r\n        \r\n        $(\".menu a, .social-icons a\", mobilemenu).click(function(e) {\r\n            var t = $(this);\r\n            if (t.hasClass(\"parent\"))\r\n                e.preventDefault(),\r\n                mobilemenu.isDowndrop ? t.closest(\"li\").hasClass(\"expanded\") ? t.closest(\"li\").removeClass(\"expanded\") : t.closest(\"li\").addClass(\"expanded\") : (t.closest(\"li\").addClass(\"expanded\"),\r\n                function() {\r\n                    if (!mobilemenu.isDowndrop) {\r\n                        var e = mobilemenu.find(\".scroller\").first()\r\n                          , t = mobilemenu.find(\".wrap\").first();\r\n                        if (t.length) {\r\n                            var a = t.data(\"params\")\r\n                              , i = mobilemenu.find(\".expanded>.dropdown\").eq(a.depth);\r\n                            if (i.length) {\r\n                                a.scroll[a.depth] = parseInt(mobilemenu.scrollTop()),\r\n                                a.height[a.depth + 1] = Math.max(i.height(), a.depth ? mobilemenu.find(\".expanded>.dropdown\").eq(a.depth - 1).height() : t.height()),\r\n                                e.css(\"height\", a.height[a.depth + 1] + \"px\"),\r\n                                ++a.depth,\r\n                                t.css(\"transform\", \"translateX(\" + -100 * a.depth + \"%)\");\r\n                                if (overflow === 'scroll') {\r\n                                    setTimeout(function() {\r\n                                        mobilemenu.animate({\r\n                                            scrollTop: 0\r\n                                        }, 200)\r\n                                    }, 100);\r\n                                } else {\r\n                                    setTimeout(function() {\r\n                                        $('html, body').animate({\r\n                                            scrollTop: 0\r\n                                        }, 200)\r\n                                    }, 100);\r\n                                }\r\n                                var o = i.height();\r\n                                setTimeout(function() {\r\n                                    o ? e.css(\"height\", o + \"px\") : e.css(\"height\", \"\")\r\n                                }, 200)\r\n                            }\r\n                            t.data(\"params\", a)\r\n                        }\r\n                    }\r\n                }());\r\n            else {\r\n                if (t.closest(\"li\").hasClass(\"counters\")) {\r\n                    var a = t.attr(\"href\");\r\n                    void 0 !== a && (window.location.href = a,\r\n                    window.location.reload())\r\n                }\r\n                t.closest(\".menu_back\").length || CloseMobileMenu()\r\n            }\r\n        });\r\n        $(\".dropdown .menu_back\", mobilemenu).click(function(e) {\r\n            e.preventDefault();\r\n            var t = $(this);\r\n            !function() {\r\n                if (!mobilemenu.isDowndrop) {\r\n                    var e = mobilemenu.find(\".scroller\").first()\r\n                      , t = mobilemenu.find(\".wrap\").first();\r\n                    if (t.length) {\r\n                        var a = t.data(\"params\");\r\n                        if (0 < a.depth) {\r\n                            var i = mobilemenu.find(\".expanded>.dropdown\").eq(a.depth - 1);\r\n                            if (i.length) {\r\n                                e.css(\"height\", a.height[a.depth] + \"px\"),\r\n                                --a.depth,\r\n                                t.css(\"transform\", \"translateX(\" + -100 * a.depth + \"%)\"),\r\n                                setTimeout(function() {\r\n                                    mobilemenu.animate({\r\n                                        scrollTop: a.scroll[a.depth]\r\n                                    }, 200)\r\n                                }, 100);\r\n                                var o = !!a.depth && mobilemenu.find(\".expanded>.dropdown\").eq(a.depth - 1).height();\r\n                                setTimeout(function() {\r\n                                    o ? e.css(\"height\", o + \"px\") : e.css(\"height\", \"\")\r\n                                }, 200)\r\n                            }\r\n                        }\r\n                        t.data(\"params\", a)\r\n                    }\r\n                }\r\n            }(),\r\n            setTimeout(function() {\r\n                t.closest(\".expanded\").removeClass(\"expanded\")\r\n            }, 400)\r\n        });\r\n    });\r\n        \r\n    $(\".left-menu .parent-active\").each(function() {\r\n        $(this).click();\r\n    });\r\n    var offcanvasInitialExecuted = false;\r\n    $('#uk-offcanvas').on('show.uk.offcanvas', function() {\r\n        if (!offcanvasInitialExecuted) {\r\n            $(\".parent-active\", this).each(function() {\r\n                $(this).click();\r\n            });\r\n            offcanvasInitialExecuted = true;\r\n        }\r\n    });\r\n});"]}
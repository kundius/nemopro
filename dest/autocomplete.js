!function o(r,i,f){function u(t,e){if(!i[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(a)return a(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},r[t][0].call(n.exports,function(e){return u(r[t][1][e]||e)},n,n.exports,o,r,i,f)}return i[t].exports}for(var a="function"==typeof require&&require,e=0;e<f.length;e++)u(f[e]);return u}({1:[function(e,t,n){var o,r;o=this,r=function(){"use strict";return function(f){var u,o,a=document,d=a.createElement("div"),r=d.style,e=-1!==(e=navigator.userAgent).indexOf("Firefox")&&-1!==e.indexOf("Mobile"),i=f.debounceWaitMs||0,s=f.preventSubmit||!1,t=e?"input":"keyup",l=[],c="",p=2,n=f.showOnFocus,v=0;if(void 0!==f.minLength&&(p=f.minLength),!f.input)throw new Error("input undefined");var g=f.input;function h(){o&&window.clearTimeout(o)}function m(){return!!d.parentNode}function w(){var e;v++,l=[],c="",u=void 0,(e=d.parentNode)&&e.removeChild(d)}function E(){var e,t,n;m()&&(r.height="auto",r.width=g.offsetWidth+"px",e=g.getBoundingClientRect(),t=/iPad|iPhone|iPod/.test(window.navigator.userAgent)&&!window.MSStream?e.top+window.pageYOffset:e.top,t+=g.offsetHeight,(n=window.innerHeight-(e.top+g.offsetHeight))<0&&(n=0),r.top=t+"px",r.bottom="",r.left=e.left+"px",r.maxHeight=n+"px",f.customize&&f.customize(g,e,d,n))}function x(){for(;d.firstChild;)d.removeChild(d.firstChild);var n=function(e,t){var n=a.createElement("div");return n.textContent=e.label||"",n};f.render&&(n=f.render);var o=function(e,t){var n=a.createElement("div");return n.textContent=e,n};f.renderGroup&&(o=f.renderGroup);var r=a.createDocumentFragment(),i="#9?$";if(l.forEach(function(t){t.group&&t.group!==i&&(i=t.group,(e=o(t.group,c))&&(e.className+=" group",r.appendChild(e)));var e=n(t,c);e&&(e.addEventListener("click",function(e){f.onSelect(t,g),w(),e.preventDefault(),e.stopPropagation()}),t===u&&(e.className+=" selected"),r.appendChild(e))}),d.appendChild(r),l.length<1){if(!f.emptyMsg)return void w();var e=a.createElement("div");e.className="empty",e.textContent=f.emptyMsg,d.appendChild(e)}d.parentNode||a.body.appendChild(d),E(),function(){var e=d.getElementsByClassName("selected");{var t;0<e.length&&(t=e[0],e=t.previousElementSibling,(t=e&&-1!==e.className.indexOf("group")&&!e.previousElementSibling?e:t).offsetTop<d.scrollTop?d.scrollTop=t.offsetTop:(e=t.offsetTop+t.offsetHeight,(t=d.scrollTop+d.offsetHeight)<e&&(d.scrollTop+=e-t)))}}()}function C(){m()&&x()}function L(){C()}function y(e){e.target!==d?C():e.preventDefault()}function b(e){for(var t=e.which||e.keyCode||0,n=0,o=[38,13,27,39,37,16,17,18,20,91,9];n<o.length;n++)if(t===o[n])return;40===t&&m()||k(0)}function N(e){var t=e.which||e.keyCode||0;if(38===t||40===t||27===t){var n=m();if(27===t)w();else{if(l.length<1)return;(38===t?function(){if(l.length<1)u=void 0;else if(u===l[0])u=l[l.length-1];else for(var e=l.length-1;0<e;e--)if(u===l[e]||1===e){u=l[e-1];break}}:function(){if((u=l.length<1?void 0:u)&&u!==l[l.length-1]){for(var e=0;e<l.length-1;e++)if(u===l[e]){u=l[e+1];break}}else u=l[0]})(),x()}return e.preventDefault(),void(n&&e.stopPropagation())}13===t&&(u&&(f.onSelect(u,g),w()),s&&e.preventDefault())}function T(){n&&k(1)}function k(e){var t=++v,n=g.value;n.length>=p||1===e?(h(),o=window.setTimeout(function(){f.fetch(n,function(e){v===t&&e&&(c=n,u=0<(l=e).length?l[0]:void 0,x())},0)},0===e?i:0)):w()}function D(){setTimeout(function(){a.activeElement!==g&&w()},200)}return d.className="autocomplete "+(f.className||""),r.position="fixed",d.addEventListener("mousedown",function(e){e.stopPropagation(),e.preventDefault()}),g.addEventListener("keydown",N),g.addEventListener(t,b),g.addEventListener("blur",D),g.addEventListener("focus",T),window.addEventListener("resize",L),a.addEventListener("scroll",y,!0),{destroy:function(){g.removeEventListener("focus",T),g.removeEventListener("keydown",N),g.removeEventListener(t,b),g.removeEventListener("blur",D),window.removeEventListener("resize",L),a.removeEventListener("scroll",y,!0),h(),w(),v++}}}},"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):(o=o||self).autocomplete=r()},{}]},{},[1]);
//# sourceMappingURL=autocomplete.js.map
